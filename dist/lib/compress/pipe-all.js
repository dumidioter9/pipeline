import{minify as n}from"csso";import{minify as f}from"html-minifier-terser";import{optimize as m}from"svgo";import{minify as p}from"terser";import c from"./parse.js";var j=async(i,a,s=2)=>{for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)){const r=a[e];if(!r)continue;switch(e){case"css":{await c(i,"**/*.css",s,e,a?.exclude,o=>n(o,r).css);break}case"html":{await c(i,"**/*.html",s,e,a?.exclude,async o=>await f(o,r));break}case"js":{await c(i,"**/*.{js,mjs,cjs}",s,e,a?.exclude,async o=>(await p(o,r)).code);break}case"svg":{await c(i,"**/*.svg",s,e,a?.exclude,async o=>{const t=m(o,r);if(typeof t.error<"u"&&console.log(t.error),typeof t.data<"u")return t.data});break}default:break}}};export{j as default};
